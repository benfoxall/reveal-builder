<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">

  <title>Builder Example</title>

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/css/reveal.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/css/theme/white.css" id="theme">

  <style media="screen">
    #demo-slide h2{
      transition: 1s
    }
  </style>
</head>

<body>

  <div class="reveal">
    <div class="slides">


      <section>
        <h1>Slide Builder</h1>
      </section>

      <section>
        <h2>script-based fragments</h2>
      </section>

      <section id="demo-slide">
        <h2>[scripted]</h2>
      </section>

      <section>
        <h2>setup/teardown visualisations</h2>
      </section>

      <section id="wow-graphics">
        <!-- canvas inserted by script -->
      </section>

      <section>
        <h3>github</h3>
        <p><a href="https://github.com/benfoxall/slide-builder">benfoxall/slide-builder</a></p>
      </section>

    </div>
  </div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/lib/js/head.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.3.0/js/reveal.js"></script>

  <script>

    Reveal.initialize({
      center: true,
      transition: 'convex',
      transitionSpeed: 'slow',
      history: true,
      dependencies: [
        { src: '../slide-builder.js', callback: function(){

          var element = document.querySelector('#demo-slide')
          var heading = element.firstElementChild

          var slide = new SlideBuilder(element)

          slide
            .shown(function(){
              heading.innerText = 'example!'
              heading.style.transform = ''
            })
            .fragments([
              function() {
                heading.innerText =
                heading.style.transform = 'scale(2) rotate(45deg)'
              },
              function() {
                heading.innerText =
                heading.style.transform = 'scale(-1) rotate(-25deg)'
              },
              function() {
                heading.innerText =
                heading.style.transform = 'scale(1) rotate(360deg)'
              }
            ])
            .hidden(function(){
              heading.innerText = 'done...'
              heading.style.transform = ''
            })

        }},

        /*
          alternatively, wrap in a different file (makes
          it nice for modular slides)
        */
        { src: 'graphics-slide.js', callback: function(){
          new GraphicsSlide('#wow-graphics')
        }}
      ]
    })

  </script>

  </body>
</html>
